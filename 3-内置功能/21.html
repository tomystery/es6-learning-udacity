<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>

</body>
<script>
    /*  var richard = { status: 'looking for work' };
     console.log(richard.status)
   var agent = new Proxy(richard, {});
    agent.status; // returns 'looking for work' */

    /* const richard = { status: 'looking for work' };
    const handler = {
        get(target, propName) {
            console.log(target); //对象  {status: "looking for work"}
            console.log(propName);//status
            return target[propName];
        }
    };
    const agent = new Proxy(richard, handler);
    
   console.log(agent.status) ;//returns 'looking for work'
//注意我们在 get trap 中添加了最后一行 return target[propName];，这样将会访问目标对象的属性并返回它。
 */




    /*  const richard = { status: 'looking for work' };
     const handler = {
         get(target, propName) {
             return `He's following many leads, so you should offer a contract as soon as possible!`;
         }
     };
     const agent = new Proxy(richard, handler);
     console.log(agent.status); // returns the text `He's following many leads, so you should offer a contract as soon as possible!`
  */



    const richard = { status: 'looking for work' };
    const handler = {
        set(target, propName, value) {
            if (propName === 'payRate') { // if the pay is being set, take 15% as commission
                value = value * 0.85;
                console.log(value);
            } else {
                console.log(value);
                console.log(target); //对象  {status: "looking for work"}
            }

            target[propName] = value;
        }
    };
    const agent = new Proxy(richard, handler);
    agent.payRate = 1000; // set the actor's pay to $1,000
    console.log(agent.payRate); // $850 the actor's actual pay

</script>

</html>